<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_script">
    <sys_ui_script action="INSERT_OR_UPDATE">
        <active>true</active>
        <description>Use this script to populate email field in create and edit mode.</description>
        <global>false</global>
        <name>x_58872_needit.NeedItPopulateEmailApi</name>
        <script><![CDATA[var x_58872_needit = x_58872_needit || {};


x_58872_needit.NeedItPopulateEmailApi = (function() {
    "use strict";

    function populateEmailField() {
        var getEmailAddr = new GlideAjax('GetEmailAddress');
        // Specify the getEmail method
        getEmailAddr.addParam('sysparm_name', 'getEmail');
        // Pass the Requested for sys_id
        getEmailAddr.addParam('sysparm_userID', userID);
        // Send the request to the server
        getEmailAddr.getXML(populateEmailField);

        // When the response is back from the server
        function populateEmailField(response) {
            // Extract the email address from the response, clear any value from the email field, 
            // set new value in the email field
            var emailFromScriptInclude = response.responseXML.documentElement.getAttribute("answer");
            g_form.clearValue(emailField);
            g_form.setValue(emailField, emailFromScriptInclude);
        }
    }

    return {
        populateEmail: function(userID, emailField) {
			alert('populating Email');
            return populateEmailField(userID, emailField);
        },

        type: "NeedItPopulateEmailApi"
    };
})();]]></script>
        <script_name>NeedItPopulateEmailApi</script_name>
        <sys_class_name>sys_ui_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-12-30 11:37:09</sys_created_on>
        <sys_id>768e00302fb08110f66756e62799b6f0</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>x_58872_needit.NeedItPopulateEmailApi</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_ui_script_768e00302fb08110f66756e62799b6f0</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-12-30 11:43:48</sys_updated_on>
        <ui_type>10</ui_type>
        <use_scoped_format>true</use_scoped_format>
    </sys_ui_script>
</record_update>
